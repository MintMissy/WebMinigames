"use strict";(self.webpackChunkWebMiniGames=self.webpackChunkWebMiniGames||[]).push([[21],{8021:(Fe,$,r)=>{r.r($),r.d($,{MemoCardsModule:()=>h});var l=r(6895),Q=r(518),w=r(8424),P=r(9751),Y=r(727),F=r(4408);let I,L=1;const M={};function D(s){return s in M&&(delete M[s],!0)}const W={setImmediate(s){const e=L++;return M[e]=!0,I||(I=Promise.resolve()),I.then(()=>D(e)&&s()),e},clearImmediate(s){D(s)}},{setImmediate:X,clearImmediate:K}=W,T={setImmediate(...s){const{delegate:e}=T;return(e?.setImmediate||X)(...s)},clearImmediate(s){const{delegate:e}=T;return(e?.clearImmediate||K)(s)},delegate:void 0};var k=r(7565);const B=new class q extends k.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let o;e=e||i.shift();do{if(o=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,o){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw o}}}(class V extends F.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=T.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var o;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:a}=e;null!=t&&(null===(o=a[a.length-1])||void 0===o?void 0:o.id)!==t&&(T.clearImmediate(t),e._scheduled=void 0)}});var j=r(7579),ee=r(6063);class O extends j.x{constructor(e=1/0,t=1/0,i=ee.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!o&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:o}=this,a=o.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:o}=this,a=(o?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!o){const c=t.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var G=r(576);function z(s){return!!s&&(s instanceof P.y||(0,G.m)(s.lift)&&(0,G.m)(s.subscribe))}var J=r(9646),R=r(233),te=r(515),ne=r(2843),se=r(7159),ie=r(5121),oe=r(5363),U=r(8505),re=r(1365),E=r(4004),ae=r(262),ce=r(4482),de=r(5403),pe=r(8421),me=r(5032);function _(s){return(0,ce.e)((e,t)=>{(0,pe.Xf)(s).subscribe((0,de.x)(t,()=>t.complete(),me.Z)),!t.closed&&e.subscribe(t)})}var le=r(5698),ue=r(1884),fe=r(3099),n=r(8274);function A(s){return"function"==typeof s.ngrxOnStoreInit}function x(s){return"function"==typeof s.ngrxOnStateInit}const Ce=new n.OlP("@ngrx/component-store Initial State");let ve=(()=>{class s{constructor(t){this.destroySubject$=new O(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new O(1),this.isInitialized=!1,this.state$=this.select(i=>i),this.\u0275hasProvider=!1,t&&this.initState(t),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(t){return i=>{let a,o=!0;const d=(z(i)?i:(0,J.of)(i)).pipe((0,oe.Q)(R.N),(0,U.b)(()=>this.assertStateIsInitialized()),(0,re.M)(this.stateSubject$),(0,E.U)(([p,$e])=>t($e,p)),(0,U.b)(p=>this.stateSubject$.next(p)),(0,ae.K)(p=>o?(a=p,te.E):(0,ne._)(p)),_(this.destroy$)).subscribe();if(a)throw a;return o=!1,d}}initState(t){(0,se.x)([t],R.N).subscribe(i=>{this.isInitialized=!0,this.stateSubject$.next(i)})}setState(t){"function"!=typeof t?this.initState(t):this.updater(t)()}patchState(t){const i="function"==typeof t?t(this.get()):t;this.updater((o,a)=>({...o,...a}))(i)}get(t){let i;return this.assertStateIsInitialized(),this.stateSubject$.pipe((0,le.q)(1)).subscribe(o=>{i=t?t(o):o}),i}select(...t){const{observablesOrSelectorsObject:i,projector:o,config:a}=function ye(s){const e=Array.from(s);let t={debounce:!1};if(function be(s){return typeof s.debounce<"u"}(e[e.length-1])&&(t={...t,...e.pop()}),1===e.length&&"function"!=typeof e[0])return{observablesOrSelectorsObject:e[0],projector:void 0,config:t};const i=e.pop();return{observablesOrSelectorsObject:e,projector:i,config:t}}(t);return(function Se(s,e){return Array.isArray(s)&&0===s.length&&e}(i,o)?this.stateSubject$:(0,ie.a)(i)).pipe(a.debounce?function ge(){return s=>new P.y(e=>{let t,i;const o=new Y.w0;return o.add(s.subscribe({complete:()=>{t&&e.next(i),e.complete()},error:a=>{e.error(a)},next:a=>{i=a,t||(t=B.schedule(()=>{e.next(i),t=void 0}),o.add(t))}})),o})}():s=>s,o?(0,E.U)(d=>i.length>0&&Array.isArray(d)?o(...d):o(d)):s=>s,(0,ue.x)(),function he(s,e,t){let i,o=!1;return s&&"object"==typeof s?({bufferSize:i=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=s):i=s??1/0,(0,fe.B)({connector:()=>new O(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}({refCount:!0,bufferSize:1}),_(this.destroy$))}effect(t){const i=new j.x;return t(i).pipe(_(this.destroy$)).subscribe(),o=>(z(o)?o:(0,J.of)(o)).pipe(_(this.destroy$)).subscribe(c=>{i.next(c)})}checkProviderForHooks(){B.schedule(()=>{if((0,n.X6Q)()&&(A(this)||x(this))&&!this.\u0275hasProvider){const t=[A(this)?"OnStoreInit":"",x(this)?"OnStateInit":""].filter(i=>i);console.warn(`@ngrx/component-store: ${this.constructor.name} has the ${t.join(" and ")} lifecycle hook(s) implemented without being provided using the provideComponentStore(${this.constructor.name}) function. To resolve this, provide the component store via provideComponentStore(${this.constructor.name})`)}})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}}return s.\u0275fac=function(t){return new(t||s)(n.LFG(Ce,8))},s.\u0275prov=n.Yz7({token:s,factory:s.\u0275fac}),s})();const Z=["\u2654","\u2655","\u2656","\u2657","\u2658","\u2659","\u2664","\u2667","\u2661","\u2662"],Me={statistics:{startGameTime:Date.now(),moves:0,progress:0},cards:[],lastFlipTime:0,flippingAnimationDuration:1e3};class m extends ve{constructor(){super(Me),this.statistics$=this.select(e=>e.statistics),this.cards$=this.select(e=>e.cards)}flipCard(e){this.setState(t=>{let i=[...t.cards].map(c=>c.index===e?{...c,flipped:!0}:c);const o={...t,lastFlipTime:Date.now()},a=this.getFlippedCards(i);if(a>2&&this.isPlayingFlippingAnimation())return{...t};if(2===a){o.statistics.moves=t.statistics.moves+1;const c=[...i].filter(d=>!0===d.flipped).map(d=>d.symbol);return c[0]===c[1]?setTimeout(()=>{const d=[...i].map(p=>({...p,completed:!!p.flipped||p.completed,flipped:!1}));this.applyFlip({...o,statistics:{...o.statistics,progress:this.getGameProgress(d)},cards:d})},t.flippingAnimationDuration):setTimeout(()=>{this.applyFlip({...o,cards:[...i].map(d=>({...d,flipped:!1}))})},t.flippingAnimationDuration),{...o,cards:i}}return{...o,cards:i}})}resetGame(){this.setState(e=>({...e,statistics:{startGameTime:Date.now(),moves:0,progress:0},cards:this.generateNewDeck(),lastFlipTime:0}))}getGameProgress(e){return e.reduce((t,i)=>t+(i.completed?1:0),0)/e.length*100}applyFlip(e){this.setState(t=>e)}isPlayingFlippingAnimation(){const e=this.get(i=>i.flippingAnimationDuration),t=this.get(i=>i.lastFlipTime);return Date.now()-t<=e}getFlippedCards(e){return e.reduce((t,i)=>t+(i.flipped?1:0),0)}generateNewDeck(){const e=[],t=Z.length;for(let i=0;i<t;i++)e.push({index:i,symbol:Z[i],flipped:!1,completed:!1}),e.push({index:i+t,symbol:Z[i],flipped:!1,completed:!1});return e.sort(()=>Math.random()-.5),e}}m.\u0275fac=function(e){return new(e||m)},m.\u0275prov=n.Yz7({token:m,factory:m.\u0275fac});const Te=function(s,e){return{flipped:s,hidden:e}};class g{constructor(){this.flipCard=new n.vpe}}function _e(s,e){if(1&s){const t=n.EpF();n.TgZ(0,"app-memo-card",2),n.NdJ("flipCard",function(o){n.CHM(t);const a=n.oxw();return n.KtG(a.flipCard.emit(o))}),n.qZA()}2&s&&n.Q6J("memoCard",e.$implicit)}g.\u0275fac=function(e){return new(e||g)},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-memo-card"]],inputs:{memoCard:"memoCard"},outputs:{flipCard:"flipCard"},decls:5,vars:5,consts:[[1,"card",3,"ngClass","click"],[1,"card__wrapper"],[1,"card__wrapper__front"],[1,"card__wrapper__back"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return t.flipCard.emit(t.memoCard.index)}),n.TgZ(1,"div",1),n._UZ(2,"div",2),n.TgZ(3,"div",3),n._uU(4),n.qZA()()()),2&e&&(n.Q6J("ngClass",n.WLB(2,Te,t.memoCard.flipped,t.memoCard.completed)),n.xp6(4),n.Oqu(t.memoCard.flipped?t.memoCard.symbol:""))},dependencies:[l.mk],styles:[".card[_ngcontent-%COMP%]{color:#161824;perspective:1000px;aspect-ratio:1}.card.flipped[_ngcontent-%COMP%]   .card__wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card[_ngcontent-%COMP%]:not(.flipped){cursor:pointer}.card__wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .8s}.card__wrapper__front[_ngcontent-%COMP%], .card__wrapper__back[_ngcontent-%COMP%]{position:absolute;border-radius:.5rem;-webkit-backface-visibility:hidden;backface-visibility:hidden;inset:0}.card__wrapper__front[_ngcontent-%COMP%]{background-color:var(--color-primary)}.card__wrapper__back[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;transform:rotateY(180deg);background-color:var(--color-accent);font-size:3.5rem;font-weight:500}@media screen and (min-width: 300px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:4.25rem}}@media screen and (min-width: 450px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:5rem}}@media screen and (min-width: 700px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:4rem}}@media screen and (min-width: 650px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:6rem}}.card__wrapper__back[_ngcontent-%COMP%]::selection{background-color:transparent}.hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0});class C{constructor(){this.flipCard=new n.vpe}trackByIndex(e,t){return t.index}}C.\u0275fac=function(e){return new(e||C)},C.\u0275cmp=n.Xpm({type:C,selectors:[["app-memo-cards-board"]],inputs:{memoCards:"memoCards"},outputs:{flipCard:"flipCard"},decls:2,vars:2,consts:[[1,"game-board","game-board--memo"],[3,"memoCard","flipCard",4,"ngFor","ngForOf","ngForTrackBy"],[3,"memoCard","flipCard"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.YNc(1,_e,1,1,"app-memo-card",1),n.qZA()),2&e&&(n.xp6(1),n.Q6J("ngForOf",t.memoCards)("ngForTrackBy",t.trackByIndex))},dependencies:[l.sg,g],styles:[":[_nghost-%COMP%]{display:block}.game-board--memo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}@media screen and (min-width: 400px){.game-board--memo[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}"],changeDetection:0});const H=new k.v(F.o),we=H;var Pe=r(3532);class u{transform(e){const t=Date.now()-e;return{minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}}}u.\u0275fac=function(e){return new(e||u)},u.\u0275pipe=n.Yjl({name:"elapsedTime",type:u,pure:!0});const xe=function(s){return{width:s}};class v{}v.\u0275fac=function(e){return new(e||v)},v.\u0275cmp=n.Xpm({type:v,selectors:[["app-progress-bar"]],inputs:{progress:"progress"},decls:5,vars:7,consts:[[1,"bar"],[1,"bar__progress-number"],[1,"bar__progress",3,"ngStyle"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"span",1),n._uU(2),n.ALo(3,"number"),n.qZA(),n._UZ(4,"div",2),n.qZA()),2&e&&(n.xp6(2),n.hij("",n.xi3(3,2,t.progress,"1.0-0")," %"),n.xp6(2),n.Q6J("ngStyle",n.VKq(5,xe,t.progress+"%")))},dependencies:[l.PC,l.JJ],styles:[".bar[_ngcontent-%COMP%]{position:relative;width:100%;height:1.75rem;overflow:hidden;border-radius:.5rem;background-color:var(--color-dark-1)}.bar__progress-number[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.bar__progress[_ngcontent-%COMP%]{height:100%;background-color:#1fdc58;transition:width .5s}"],changeDetection:0});class y{constructor(e,t){this.changeDetector=e,this.elapsedTimePipe=t,this.interval$=function Ae(s=0,e=H){return s<0&&(s=0),function Oe(s=0,e,t=we){let i=-1;return null!=e&&((0,Pe.K)(e)?t=e:i=e),new P.y(o=>{let a=function Ie(s){return s instanceof Date&&!isNaN(s)}(s)?+s-t.now():s;a<0&&(a=0);let c=0;return t.schedule(function(){o.closed||(o.next(c++),0<=i?this.schedule(void 0,i):o.complete())},a)})}(s,s,e)}(1e3),this.gameTime={minutes:0,seconds:0}}ngOnInit(){this.subscription=this.interval$.subscribe(e=>{this.updateGameTime(),this.changeDetector.markForCheck()})}ngOnChanges(e){this.updateGameTime()}ngOnDestroy(){this.subscription.unsubscribe()}updateGameTime(){this.gameTime=this.elapsedTimePipe.transform(null===this.statistics?0:this.statistics.startGameTime)}}y.\u0275fac=function(e){return new(e||y)(n.Y36(n.sBO),n.Y36(u))},y.\u0275cmp=n.Xpm({type:y,selectors:[["app-memo-statistics"]],inputs:{statistics:"statistics",gameProgress:"gameProgress"},features:[n._Bn([u]),n.TTD],decls:11,vars:4,consts:[[1,"statistics"],[1,"statistics__info"],[3,"progress"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"p"),n._uU(3," Game Time: "),n.TgZ(4,"span"),n._uU(5),n.qZA()(),n.TgZ(6,"p"),n._uU(7," Moves: "),n.TgZ(8,"span"),n._uU(9),n.qZA()()(),n._UZ(10,"app-progress-bar",2),n.qZA()),2&e&&(n.xp6(5),n.AsE("",t.gameTime.minutes," minutes ",t.gameTime.seconds," seconds"),n.xp6(4),n.hij(" ",t.statistics?t.statistics.moves:0,""),n.xp6(1),n.Q6J("progress",t.statistics?t.statistics.progress:0))},dependencies:[v],styles:[".statistics__info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:.5rem;gap:0 2rem;margin-block:1rem}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:0}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#d1d1d1}"],changeDetection:0});class b{constructor(){this.gameReset=new n.vpe}}b.\u0275fac=function(e){return new(e||b)},b.\u0275cmp=n.Xpm({type:b,selectors:[["app-memo-side-bar"]],inputs:{statistics:"statistics",gameStartTime:"gameStartTime",gameProgress:"gameProgress"},outputs:{gameReset:"gameReset"},decls:15,vars:1,consts:[[1,"game-side-bar"],[1,"game-side-bar__section"],[1,"game-side-bar__statistics","game-side-bar__section"],[3,"statistics"],[1,"game-side-bar__actions"],[1,"button","button--accent","button--reset",3,"click"],["routerLink","/",1,"button","button--back"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"div",1)(2,"h1"),n._uU(3,"Game Rules"),n.qZA(),n.TgZ(4,"p"),n._uU(5," The game starts with all the cards face down, you must flip two cards at a time. If the two flipped cards have the same symbol they're removed from the board, otherwise they're turned back down again. Find all pairs in order to win the game. "),n.qZA()(),n.TgZ(6,"div",2)(7,"h2"),n._uU(8,"Statistics"),n.qZA(),n._UZ(9,"app-memo-statistics",3),n.qZA(),n.TgZ(10,"div",4)(11,"button",5),n.NdJ("click",function(){return t.gameReset.emit()}),n._uU(12,"Reset Game"),n.qZA(),n.TgZ(13,"button",6),n._uU(14,"Go Back"),n.qZA()()()),2&e&&(n.xp6(9),n.Q6J("statistics",t.statistics))},dependencies:[w.rH,y],styles:[":[_nghost-%COMP%]{display:block}"],changeDetection:0});class S{constructor(e){this.store=e,this.cards$=this.store.cards$,this.statistics$=this.store.statistics$}ngOnInit(){this.store.resetGame()}onCardFlip(e){this.store.flipCard(e)}onGameReset(){this.store.resetGame()}}S.\u0275fac=function(e){return new(e||S)(n.Y36(m))},S.\u0275cmp=n.Xpm({type:S,selectors:[["app-memo-cards-container"]],features:[n._Bn([m])],decls:5,vars:6,consts:[[1,"game-container"],[3,"memoCards","flipCard"],[3,"statistics","gameReset"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0)(1,"app-memo-cards-board",1),n.NdJ("flipCard",function(o){return t.onCardFlip(o)}),n.ALo(2,"async"),n.qZA(),n.TgZ(3,"app-memo-side-bar",2),n.NdJ("gameReset",function(){return t.onGameReset()}),n.ALo(4,"async"),n.qZA()()),2&e&&(n.xp6(1),n.Q6J("memoCards",n.lcZ(2,2,t.cards$)),n.xp6(2),n.Q6J("statistics",n.lcZ(4,4,t.statistics$)))},dependencies:[C,b,l.Ov],changeDetection:0});const Ze=[{path:"",component:S}];class f{}f.\u0275fac=function(e){return new(e||f)},f.\u0275mod=n.oAB({type:f}),f.\u0275inj=n.cJS({imports:[w.Bz.forChild(Ze),w.Bz]});class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=n.oAB({type:h}),h.\u0275inj=n.cJS({imports:[l.ez,f,Q.e]})}}]);