"use strict";(self.webpackChunkWebMiniGames=self.webpackChunkWebMiniGames||[]).push([[332],{6332:(S,y,i)=>{i.r(y),i.d(y,{MemoCardsModule:()=>p});var C=i(6895),w=i(518),M=i(4830),Z=i(5412);const b=["\u2654","\u2655","\u2656","\u2657","\u2658","\u2659","\u2664","\u2667","\u2661","\u2662"];var e=i(8274);const P={statistics:{startGameTime:Date.now(),moves:0,progress:0},cards:[],lastFlipTime:0,flippingAnimationDuration:1e3};class m extends Z.m1{constructor(){super(P),this.statistics$=this.select(t=>t.statistics),this.cards$=this.select(t=>t.cards)}flipCard(t){this.setState(s=>{let a=[...s.cards].map(d=>d.index===t?{...d,flipped:!0}:d);const o={...s,lastFlipTime:Date.now()},h=this.getFlippedCards(a);if(h>2&&this.isPlayingFlippingAnimation())return{...s};if(2===h){o.statistics.moves=s.statistics.moves+1;const d=[...a].filter(r=>!0===r.flipped).map(r=>r.symbol);return d[0]===d[1]?setTimeout(()=>{const r=[...a].map(T=>({...T,completed:!!T.flipped||T.completed,flipped:!1}));this.applyFlip({...o,statistics:{...o.statistics,progress:this.getGameProgress(r)},cards:r})},s.flippingAnimationDuration):setTimeout(()=>{this.applyFlip({...o,cards:[...a].map(r=>({...r,flipped:!1}))})},s.flippingAnimationDuration),{...o,cards:a}}return{...o,cards:a}})}resetGame(){this.setState(t=>({...t,statistics:{startGameTime:Date.now(),moves:0,progress:0},cards:this.generateNewDeck(),lastFlipTime:0}))}getGameProgress(t){return t.reduce((s,a)=>s+(a.completed?1:0),0)/t.length*100}applyFlip(t){this.setState(s=>t)}isPlayingFlippingAnimation(){const t=this.get(a=>a.flippingAnimationDuration),s=this.get(a=>a.lastFlipTime);return Date.now()-s<=t}getFlippedCards(t){return t.reduce((s,a)=>s+(a.flipped?1:0),0)}generateNewDeck(){const t=[],s=b.length;for(let a=0;a<s;a++)t.push({index:a,symbol:b[a],flipped:!1,completed:!1}),t.push({index:a+s,symbol:b[a],flipped:!1,completed:!1});return t.sort(()=>Math.random()-.5),t}}m.\u0275fac=function(t){return new(t||m)},m.\u0275prov=e.Yz7({token:m,factory:m.\u0275fac});const O=function(n,t){return{flipped:n,hidden:t}};class l{constructor(){this.flipCard=new e.vpe}}function k(n,t){if(1&n){const s=e.EpF();e.TgZ(0,"app-memo-card",2),e.NdJ("flipCard",function(o){e.CHM(s);const h=e.oxw();return e.KtG(h.flipCard.emit(o))}),e.qZA()}2&n&&e.Q6J("memoCard",t.$implicit)}l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-memo-card"]],inputs:{memoCard:"memoCard"},outputs:{flipCard:"flipCard"},decls:5,vars:5,consts:[[1,"card",3,"ngClass","click"],[1,"card__wrapper"],[1,"card__wrapper__front"],[1,"card__wrapper__back"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return s.flipCard.emit(s.memoCard.index)}),e.TgZ(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3),e._uU(4),e.qZA()()()),2&t&&(e.Q6J("ngClass",e.WLB(2,O,s.memoCard.flipped,s.memoCard.completed)),e.xp6(4),e.Oqu(s.memoCard.flipped?s.memoCard.symbol:""))},dependencies:[C.mk],styles:[".card[_ngcontent-%COMP%]{color:#161824;perspective:1000px;aspect-ratio:1}.card.flipped[_ngcontent-%COMP%]   .card__wrapper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.card[_ngcontent-%COMP%]:not(.flipped){cursor:pointer}.card__wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transform-style:preserve-3d;transition:transform .8s}.card__wrapper__front[_ngcontent-%COMP%], .card__wrapper__back[_ngcontent-%COMP%]{position:absolute;border-radius:.5rem;-webkit-backface-visibility:hidden;backface-visibility:hidden;inset:0}.card__wrapper__front[_ngcontent-%COMP%]{background-color:var(--color-primary)}.card__wrapper__back[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;transform:rotateY(180deg);background-color:var(--color-accent);font-size:3.5rem;font-weight:500}@media screen and (min-width: 300px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:4.25rem}}@media screen and (min-width: 450px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:5rem}}@media screen and (min-width: 700px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:4rem}}@media screen and (min-width: 650px){.card__wrapper__back[_ngcontent-%COMP%]{font-size:6rem}}.card__wrapper__back[_ngcontent-%COMP%]::selection{background-color:transparent}.hidden[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0});class g{constructor(){this.flipCard=new e.vpe}trackByIndex(t,s){return s.index}}g.\u0275fac=function(t){return new(t||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-memo-cards-board"]],inputs:{memoCards:"memoCards"},outputs:{flipCard:"flipCard"},decls:2,vars:2,consts:[[1,"game-board","game-board--memo"],[3,"memoCard","flipCard",4,"ngFor","ngForOf","ngForTrackBy"],[3,"memoCard","flipCard"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,k,1,1,"app-memo-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",s.memoCards)("ngForTrackBy",s.trackByIndex))},dependencies:[C.sg,l],styles:[":[_nghost-%COMP%]{display:block}.game-board--memo[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}@media screen and (min-width: 400px){.game-board--memo[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}}"],changeDetection:0});var F=i(3999),v=i(789),A=i(5782);class _ extends F.i{constructor(t,s){super(t,1e3),this.elapsedTimePipe=s,this.gameTime={minutes:0,seconds:0}}ngOnChanges(t){this.updateGameTime()}onComponentRefresh(){this.updateGameTime()}updateGameTime(){this.gameTime=this.elapsedTimePipe.transform(null===this.statistics?0:this.statistics.startGameTime)}}_.\u0275fac=function(t){return new(t||_)(e.Y36(e.zs3),e.Y36(v.t))},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-memo-statistics"]],inputs:{statistics:"statistics"},features:[e._Bn([v.t]),e.qOj,e.TTD],decls:11,vars:4,consts:[[1,"statistics"],[1,"statistics__info"],[3,"progress"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3," Game Time: "),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p"),e._uU(7," Moves: "),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e._UZ(10,"app-progress-bar",2),e.qZA()),2&t&&(e.xp6(5),e.AsE("",s.gameTime.minutes," minutes ",s.gameTime.seconds," seconds"),e.xp6(4),e.hij(" ",s.statistics?s.statistics.moves:0,""),e.xp6(1),e.Q6J("progress",s.statistics?s.statistics.progress:0))},dependencies:[A.R],styles:[".statistics__info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:.5rem;gap:0 2rem;margin-block:1rem}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:0}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#d1d1d1}"],changeDetection:0});class u{constructor(){this.gameReset=new e.vpe}}u.\u0275fac=function(t){return new(t||u)},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-memo-side-bar"]],inputs:{statistics:"statistics",gameStartTime:"gameStartTime",gameProgress:"gameProgress"},outputs:{gameReset:"gameReset"},decls:15,vars:1,consts:[[1,"game-side-bar"],[1,"game-side-bar__section"],[1,"game-side-bar__statistics","game-side-bar__section"],[3,"statistics"],[1,"game-side-bar__actions"],[1,"button","button--accent","button--reset",3,"click"],["routerLink","/",1,"button","button--back"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Game Rules"),e.qZA(),e.TgZ(4,"p"),e._uU(5," The game starts with all the cards face down, you must flip two cards at a time. If the two flipped cards have the same symbol they're removed from the board, otherwise they're turned back down again. Find all pairs in order to win the game. "),e.qZA()(),e.TgZ(6,"div",2)(7,"h2"),e._uU(8,"Statistics"),e.qZA(),e._UZ(9,"app-memo-statistics",3),e.qZA(),e.TgZ(10,"div",4)(11,"button",5),e.NdJ("click",function(){return s.gameReset.emit()}),e._uU(12,"Reset Game"),e.qZA(),e.TgZ(13,"button",6),e._uU(14,"Go Back"),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("statistics",s.statistics))},dependencies:[M.rH,_],styles:[":[_nghost-%COMP%]{display:block}"],changeDetection:0});class f{constructor(t){this.store=t,this.cards$=this.store.cards$,this.statistics$=this.store.statistics$}ngOnInit(){this.store.resetGame()}onCardFlip(t){this.store.flipCard(t)}onGameReset(){this.store.resetGame()}}f.\u0275fac=function(t){return new(t||f)(e.Y36(m))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-memo-cards-container"]],features:[e._Bn([m])],decls:5,vars:6,consts:[[1,"game-container"],[3,"memoCards","flipCard"],[3,"statistics","gameReset"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"app-memo-cards-board",1),e.NdJ("flipCard",function(o){return s.onCardFlip(o)}),e.ALo(2,"async"),e.qZA(),e.TgZ(3,"app-memo-side-bar",2),e.NdJ("gameReset",function(){return s.onGameReset()}),e.ALo(4,"async"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("memoCards",e.lcZ(2,2,s.cards$)),e.xp6(2),e.Q6J("statistics",e.lcZ(4,4,s.statistics$)))},dependencies:[g,u,C.Ov],changeDetection:0});const B=[{path:"",component:f}];class c{}c.\u0275fac=function(t){return new(t||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[M.Bz.forChild(B),M.Bz]});class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[C.ez,c,w.e]})}}]);