"use strict";(self.webpackChunkWebMiniGames=self.webpackChunkWebMiniGames||[]).push([[85],{5085:(z,L,o)=>{o.r(L),o.d(L,{HangManModule:()=>m});var i=o(6895),Z=o(518),y=o(4830),v=o(5412),e=o(8274);const S={usedLetters:new Map,currentWord:"",wordsCache:[],gameState:"IN_PROGRESS",incorrectGuesses:0,statistics:{startGameTime:Date.now(),progress:0}};class c extends v.m1{constructor(){super(S),this.usedLetters$=this.select(t=>t.usedLetters),this.currentWord$=this.select(t=>t.currentWord),this.gameState$=this.select(t=>t.gameState),this.incorrectGuesses$=this.select(t=>t.incorrectGuesses),this.statistics$=this.select(t=>t.statistics),this.wordsCache$=this.select(t=>t.wordsCache),this.leftGuesses$=this.select(t=>this.getLeftGuesses(t)),this.lettersToEncrypt$=this.select(t=>{const s=[],a=[...new Set(t.currentWord.split(""))];for(const r of a)t.usedLetters.get(r)||s.push(r);return s})}guessLetter(t){this.setState(s=>{if("FINISHED"===s.gameState)return{...s};const a=new Map(s.usedLetters);a.set(t,!0);const r=this.getWordRevealProgress(s.currentWord,a),u=100===r;return 0===this.getLeftGuesses({...s,usedLetters:a})?{...s,incorrectGuesses:0,usedLetters:a,gameState:"FINISHED",statistics:{...s.statistics,progress:r}}:{...s,incorrectGuesses:u?s.incorrectGuesses:s.incorrectGuesses+1,usedLetters:a,gameState:u?"FINISHED":s.gameState,statistics:{...s.statistics,progress:r}}})}guessWord(t){this.setState(s=>{if("FINISHED"===s.gameState)return{...s};const a=t===s.currentWord;return{...s,incorrectGuesses:a?s.incorrectGuesses:s.incorrectGuesses+1,gameState:a?"FINISHED":s.gameState,statistics:{...s.statistics,progress:a?100:s.statistics.progress}}})}restartGame(){this.setState(t=>({...t,usedLetters:this.getLetters(),currentWord:t.wordsCache[0]||"error",wordsCache:t.wordsCache.slice(1),gameState:"IN_PROGRESS",statistics:{...t.statistics,startGameTime:Date.now(),progress:0}}))}getWordRevealProgress(t,s){const a=[...new Set(t.split(""))];let r=0;for(const u of a)s.get(u)&&r++;return r/a.length*100}addNewWordsToCache(t){this.setState(s=>({...s,wordsCache:[...s.wordsCache,...t]}))}getLeftGuesses(t){const s=[];return t.usedLetters.forEach((a,r)=>{a&&s.push(r)}),11-s.length}getLetters(){const t="abcdefghijklmnopqrstuvwxyz".split("").map(s=>[s,!1]);return new Map(t)}}c.\u0275fac=function(t){return new(t||c)},c.\u0275prov=e.Yz7({token:c,factory:c.\u0275fac});var b=o(529);class l{constructor(t){this.httpClient=t,this.API_URL="https://random-word-api.herokuapp.com/word"}getRandomWords(t=10){return this.httpClient.get(`${this.API_URL}?number=${t}`)}}l.\u0275fac=function(t){return new(t||l)(e.LFG(b.eN))},l.\u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"});var U=o(3999),H=o(789),$=o(5782);class g extends U.i{constructor(t,s){super(t,1e3),this.elapsedTimePipe=s,this.gameTime={minutes:0,seconds:0}}ngOnChanges(t){this.updateGameTime()}onComponentRefresh(){this.updateGameTime()}updateGameTime(){this.gameTime=this.elapsedTimePipe.transform(null===this.statistics?0:this.statistics.startGameTime)}}g.\u0275fac=function(t){return new(t||g)(e.Y36(e.zs3),e.Y36(H.t))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-hangman-statistics"]],inputs:{statistics:"statistics",leftGuesses:"leftGuesses"},features:[e._Bn([H.t]),e.qOj,e.TTD],decls:11,vars:4,consts:[[1,"statistics"],[1,"statistics__info"],[3,"progress"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p"),e._uU(3," Game Time: "),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.TgZ(6,"p"),e._uU(7," Left Guesses: "),e.TgZ(8,"span"),e._uU(9),e.qZA()()(),e._UZ(10,"app-progress-bar",2),e.qZA()),2&t&&(e.xp6(5),e.AsE("",s.gameTime.minutes," minutes ",s.gameTime.seconds," seconds"),e.xp6(4),e.hij(" ",s.leftGuesses,""),e.xp6(1),e.Q6J("progress",s.statistics?s.statistics.progress:0))},dependencies:[$.R],styles:[".statistics__info[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:.5rem;gap:0 2rem;margin-block:1rem}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-block:0}.statistics__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#d1d1d1}"],changeDetection:0});class d{constructor(){this.gameReset=new e.vpe}}d.\u0275fac=function(t){return new(t||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-hangman-sidebar"]],inputs:{statistics:"statistics",leftGuesses:"leftGuesses"},outputs:{gameReset:"gameReset"},decls:15,vars:2,consts:[[1,"game-side-bar"],[1,"game-side-bar__section"],[1,"game-side-bar__statistics","game-side-bar__section"],[3,"statistics","leftGuesses"],[1,"game-side-bar__actions"],[1,"button","button--accent","button--reset",3,"click"],["routerLink","/",1,"button","button--back"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Game Rules"),e.qZA(),e.TgZ(4,"p"),e._uU(5,' Hangman is a word-guessing game in which a player attempts to guess a word by suggesting letters, within a certain number of guesses. The game is represented by an image of a stick figure being "hanged" on a gallows, you lose if the stick figure is completely drawn. '),e.qZA()(),e.TgZ(6,"div",2)(7,"h2"),e._uU(8,"Statistics"),e.qZA(),e._UZ(9,"app-hangman-statistics",3),e.qZA(),e.TgZ(10,"div",4)(11,"button",5),e.NdJ("click",function(){return s.gameReset.emit()}),e._uU(12,"Reset Game"),e.qZA(),e.TgZ(13,"button",6),e._uU(14,"Go Back"),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("statistics",s.statistics)("leftGuesses",s.leftGuesses))},dependencies:[y.rH,g],changeDetection:0});const I=function(n){return{"letter-button--used":n}};class h{constructor(){this.letterUse=new e.vpe}onLetterClick(){this.used||this.letterUse.emit(this.letter)}}function W(n,t){if(1&n){const s=e.EpF();e.TgZ(0,"app-hangman-letter-button",2),e.NdJ("letterUse",function(r){e.CHM(s);const u=e.oxw();return e.KtG(u.letterUse.emit(r))}),e.qZA()}if(2&n){const s=t.$implicit;e.Q6J("letter",s.key)("used",s.value)}}h.\u0275fac=function(t){return new(t||h)},h.\u0275cmp=e.Xpm({type:h,selectors:[["app-hangman-letter-button"]],inputs:{used:"used",letter:"letter"},outputs:{letterUse:"letterUse"},decls:2,vars:4,consts:[[1,"button","button--primary","letter-button",3,"ngClass","click"]],template:function(t,s){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return s.onLetterClick()}),e._uU(1),e.qZA()),2&t&&(e.Q6J("ngClass",e.VKq(2,I,s.used)),e.xp6(1),e.hij(" ",s.letter,"\n"))},dependencies:[i.mk],styles:[".letter-button[_ngcontent-%COMP%]{padding:.75rem;font-size:1.2rem;transition:.2s;width:3rem}.letter-button--used[_ngcontent-%COMP%]{background-color:var(--color-primary-dark)}"],changeDetection:0});class f{constructor(){this.letterUse=new e.vpe}trackBy(t,s){return s.key}}function O(n,t){1&n&&(e.O4$(),e._UZ(0,"path",12))}function M(n,t){1&n&&(e.O4$(),e._UZ(0,"path",13))}function A(n,t){1&n&&(e.O4$(),e._UZ(0,"path",14))}function F(n,t){1&n&&(e.O4$(),e._UZ(0,"path",15))}function N(n,t){1&n&&(e.O4$(),e._UZ(0,"path",16))}function J(n,t){1&n&&(e.O4$(),e._UZ(0,"circle",17))}function E(n,t){1&n&&(e.O4$(),e._UZ(0,"path",18))}function R(n,t){1&n&&(e.O4$(),e._UZ(0,"path",19))}function P(n,t){1&n&&(e.O4$(),e._UZ(0,"path",20))}function k(n,t){1&n&&(e.O4$(),e._UZ(0,"path",21))}function Q(n,t){1&n&&(e.O4$(),e._UZ(0,"path",22))}f.\u0275fac=function(t){return new(t||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-hangman-letters-panel"]],inputs:{usedLetters:"usedLetters"},outputs:{letterUse:"letterUse"},decls:3,vars:4,consts:[[1,"letters-panel"],[3,"letter","used","letterUse",4,"ngFor","ngForOf","ngForTrackBy"],[3,"letter","used","letterUse"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,W,1,2,"app-hangman-letter-button",1),e.ALo(2,"keyvalue"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,s.usedLetters))("ngForTrackBy",s.trackBy))},dependencies:[i.sg,h,i.Nd],styles:[".letters-panel[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}"],changeDetection:0});class _{}_.\u0275fac=function(t){return new(t||_)},_.\u0275cmp=e.Xpm({type:_,selectors:[["app-hangman-gallow"]],inputs:{leftGuesses:"leftGuesses"},decls:12,vars:11,consts:[["viewBox","25 -75 300 240",1,"gallow"],["class","gallow-path","d","M 295.80485,155.69709 C 253.91923,171.01935 184.0182,159.52367 184.0182,159.52367 113.94213,151.8648 50.18565,151.86475 27.191509,164.75543",4,"ngIf"],["class","gallow-path","d","M 66.908662,154.30354 C 71.437813,144.20005 75.973649,-34.473453 61.598184,-59.372545",4,"ngIf"],["class","gallow-path","d","m 41.824143,11.80954 c 3.832362,0.696813 95.917617,-28.211408 108.920327,-76.738221",4,"ngIf"],["class","gallow-path","d","m 28.001033,-42.104385 c 7.390593,-2.956241 125.195297,-21.39562 195.850787,-2.463526",4,"ngIf"],["class","gallow-path","d","m 185.17439,-49.494978 c 1.23177,3.448937 2.92853,26.513919 -2.95624,36.706633",4,"ngIf"],["class","gallow-path","cx","180.61685","cy","0.14524183","r","13.672602",4,"ngIf"],["class","gallow-path","d","m 180.98635,14.31052 c 1.97082,2.709881 3.69534,31.533191 -0.49261,35.967559",4,"ngIf"],["class","gallow-path","d","m 182.48907,24.613102 c -1.48067,-0.609684 -14.02297,5.74855 -16.28753,9.406687",4,"ngIf"],["class","gallow-path","d","m 182.48907,24.613102 c 1.59209,-0.171229 11.85639,9.440095 13.00783,13.585495",4,"ngIf"],["class","gallow-path","d","m 181.72551,49.292649 c 0,0 -15.59763,6.720954 -16.2944,19.960006",4,"ngIf"],["class","gallow-path","d","m\n\t180.49374,50.278079 c 3.62667,2.133331 8.72392,17.456671 2.95617,23.280357",4,"ngIf"],["d","M 295.80485,155.69709 C 253.91923,171.01935 184.0182,159.52367 184.0182,159.52367 113.94213,151.8648 50.18565,151.86475 27.191509,164.75543",1,"gallow-path"],["d","M 66.908662,154.30354 C 71.437813,144.20005 75.973649,-34.473453 61.598184,-59.372545",1,"gallow-path"],["d","m 41.824143,11.80954 c 3.832362,0.696813 95.917617,-28.211408 108.920327,-76.738221",1,"gallow-path"],["d","m 28.001033,-42.104385 c 7.390593,-2.956241 125.195297,-21.39562 195.850787,-2.463526",1,"gallow-path"],["d","m 185.17439,-49.494978 c 1.23177,3.448937 2.92853,26.513919 -2.95624,36.706633",1,"gallow-path"],["cx","180.61685","cy","0.14524183","r","13.672602",1,"gallow-path"],["d","m 180.98635,14.31052 c 1.97082,2.709881 3.69534,31.533191 -0.49261,35.967559",1,"gallow-path"],["d","m 182.48907,24.613102 c -1.48067,-0.609684 -14.02297,5.74855 -16.28753,9.406687",1,"gallow-path"],["d","m 182.48907,24.613102 c 1.59209,-0.171229 11.85639,9.440095 13.00783,13.585495",1,"gallow-path"],["d","m 181.72551,49.292649 c 0,0 -15.59763,6.720954 -16.2944,19.960006",1,"gallow-path"],["d","m\n\t180.49374,50.278079 c 3.62667,2.133331 8.72392,17.456671 2.95617,23.280357",1,"gallow-path"]],template:function(t,s){1&t&&(e.O4$(),e.TgZ(0,"svg",0),e.YNc(1,O,1,0,"path",1),e.YNc(2,M,1,0,"path",2),e.YNc(3,A,1,0,"path",3),e.YNc(4,F,1,0,"path",4),e.YNc(5,N,1,0,"path",5),e.YNc(6,J,1,0,"circle",6),e.YNc(7,E,1,0,"path",7),e.YNc(8,R,1,0,"path",8),e.YNc(9,P,1,0,"path",9),e.YNc(10,k,1,0,"path",10),e.YNc(11,Q,1,0,"path",11),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",s.leftGuesses<11),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<10),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<9),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<8),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<7),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<6),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<5),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<4),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<3),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<2),e.xp6(1),e.Q6J("ngIf",s.leftGuesses<1))},dependencies:[i.O5],styles:[".gallow[_ngcontent-%COMP%]{height:auto;margin-bottom:1rem}.gallow-path[_ngcontent-%COMP%]{fill:none;stroke-width:3.5;stroke:#fff}"],changeDetection:0});class C{transform(t,s,a="_"){return t.split("").map(r=>s.includes(r)?a:r).join("")}}function B(n,t){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const s=t.$implicit;e.xp6(1),e.hij(" ",s," ")}}C.\u0275fac=function(t){return new(t||C)},C.\u0275pipe=e.Yjl({name:"encryptWord",type:C,pure:!0});class w{}w.\u0275fac=function(t){return new(t||w)},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-hangman-word"]],inputs:{currentWord:"currentWord",lettersToEncrypt:"lettersToEncrypt",gameState:"gameState"},decls:3,vars:4,consts:[[1,"word-container"],[4,"ngFor","ngForOf"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e.YNc(1,B,2,1,"span",1),e.ALo(2,"encryptWord"),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf","FINISHED"===s.gameState?s.currentWord.split(""):e.xi3(2,1,s.currentWord,s.lettersToEncrypt).split("")))},dependencies:[i.sg,C],styles:[".word-container[_ngcontent-%COMP%]{display:flex;font-size:1.5rem;gap:.5rem;padding-block:1rem}@media screen and (min-width: 375px){.word-container[_ngcontent-%COMP%]{font-size:2rem}}"],changeDetection:0});class G{constructor(){this.letterUse=new e.vpe}}G.\u0275fac=function(t){return new(t||G)},G.\u0275cmp=e.Xpm({type:G,selectors:[["app-hangman-game-board"]],inputs:{currentWord:"currentWord",lettersToEncrypt:"lettersToEncrypt",usedLetters:"usedLetters",leftGuesses:"leftGuesses",gameState:"gameState"},outputs:{letterUse:"letterUse"},decls:4,vars:5,consts:[[1,"game-board"],[3,"leftGuesses"],[3,"currentWord","lettersToEncrypt","gameState"],[3,"usedLetters","letterUse"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-hangman-gallow",1)(2,"app-hangman-word",2),e.TgZ(3,"app-hangman-letters-panel",3),e.NdJ("letterUse",function(r){return s.letterUse.emit(r)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("leftGuesses",s.leftGuesses),e.xp6(1),e.Q6J("currentWord",s.currentWord)("lettersToEncrypt",s.lettersToEncrypt)("gameState",s.gameState),e.xp6(1),e.Q6J("usedLetters",s.usedLetters))},dependencies:[f,_,w],changeDetection:0});const D=function(){return[]},Y=function(){return{}};class T{constructor(t,s){this.store=t,this.randomWordService=s,this.statistics$=this.store.statistics$,this.currentWord$=this.store.currentWord$,this.lettersToEncrypt$=this.store.lettersToEncrypt$,this.usedLetters$=this.store.usedLetters$,this.wordsCache$=this.store.wordsCache$,this.leftGuesses$=this.store.leftGuesses$,this.gameState$=this.store.gameState$,this.hasInitializedFirstRun=!1}ngOnInit(){this.wordsCache$.subscribe(t=>{t.length<=5&&this.addWordsToCache()})}onLetterUse(t){this.store.guessLetter(t)}onGameReset(){this.store.restartGame()}addWordsToCache(){this.randomWordService.getRandomWords().subscribe(t=>{this.store.addNewWordsToCache(t),this.hasInitializedFirstRun||this.store.restartGame()})}}T.\u0275fac=function(t){return new(t||T)(e.Y36(c),e.Y36(l))},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-hangman-container"]],features:[e._Bn([c])],decls:11,vars:25,consts:[[1,"game-container"],[3,"currentWord","lettersToEncrypt","usedLetters","leftGuesses","gameState","letterUse"],[3,"statistics","leftGuesses","gameReset"]],template:function(t,s){1&t&&(e.TgZ(0,"div",0)(1,"app-hangman-game-board",1),e.NdJ("letterUse",function(r){return s.onLetterUse(r)}),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async"),e.qZA(),e.TgZ(8,"app-hangman-sidebar",2),e.NdJ("gameReset",function(){return s.onGameReset()}),e.ALo(9,"async"),e.ALo(10,"async"),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("currentWord",e.lcZ(2,7,s.currentWord$)||"")("lettersToEncrypt",e.lcZ(3,9,s.lettersToEncrypt$)||e.DdM(23,D))("usedLetters",e.lcZ(4,11,s.usedLetters$)||e.DdM(24,Y))("leftGuesses",null===e.lcZ(5,13,s.leftGuesses$)?11:e.lcZ(6,15,s.leftGuesses$))("gameState",e.lcZ(7,17,s.gameState$)||"FINISHED"),e.xp6(7),e.Q6J("statistics",e.lcZ(9,19,s.statistics$))("leftGuesses",e.lcZ(10,21,s.leftGuesses$)||0))},dependencies:[d,G,i.Ov],changeDetection:0});const x=[{path:"",component:T}];class p{}p.\u0275fac=function(t){return new(t||p)},p.\u0275mod=e.oAB({type:p}),p.\u0275inj=e.cJS({imports:[y.Bz.forChild(x),y.Bz]});class m{}m.\u0275fac=function(t){return new(t||m)},m.\u0275mod=e.oAB({type:m}),m.\u0275inj=e.cJS({imports:[i.ez,p,Z.e]})}}]);